# Haxe Dependencies Viewer - Configuration Guide

This interactive tool visualizes Haxe dependency relationships from compiler dump files. Use the configuration panel to customize the visualization to your needs.

## Getting Started

1. **Load Dependencies**: Drag and drop or paste a `dependencies.dump` or `dependants.dump` file generated by the Haxe compiler using `-D dump-dependencies`.
2. **Explore**: Click nodes to see their relationships, use the search box to find specific types.
3. **Configure**: Adjust the settings below to customize the visualization.

---

## Visualization Settings

### Point Towards
Controls the direction of arrows between nodes:
- **Dependencies**: Arrows point from a file to its dependencies.
- **Dependants**: Arrows point from a file to files that depend on it.

### Node Size Based On
Determines how node size represents dependency count:
- **Immediate dependencies**: Size based on direct dependencies only.
- **Total dependencies**: Size based on all recursive dependencies.
- **Immediate dependants**: Size based on direct dependants only.
- **Total dependants**: Size based on all recursive dependants.

### Min/Max Radius
Controls the size range of nodes in the visualization. Adjust these to make important nodes more or less prominent.

### Show All Possible Paths
When a node is selected, this highlights all possible paths connecting from it, recursively, making it easier to trace dependency chains.

### Show Cyclic Paths in Red
Highlights circular dependencies in red, helping identify potential architectural issues.

### Labels Density
Controls how many node labels are visible. Higher values show more labels but may clutter the view.

---

## Exclusions

### Hide Haxe Std Library
Removes standard library files (like `haxe.ds.Map`, `Std`) from the visualization to focus on your code.

### Hide import.hx
Excludes `import.hx` files which often create visual noise due to their many connections.

### Show Only Circular Dependencies
Displays only files involved in circular dependency chains, useful for identifying and fixing cycles.

### Minimum Dependencies/Dependants Filters
Hide nodes with fewer than N total dependencies or dependants. Use -1 to disable the filter.

### Custom RegEx Exclusions
Add custom regular expressions to hide specific files or paths. Common examples:
- `.+library\/.+` - Hide all library files.
- `.+test\/.+` - Hide test files.
- `.+\/src\/generated\/.*` - Hide generated code.

---

## Smart Labels

These settings clean up node labels to make them more readable by extracting meaningful parts of file paths, and to make colors and grouping work better by keeping only the fully qualified name (package + type name).

### Extract Haxe Std Lib
Shortens standard library paths (e.g., `haxe.ds.Map` instead of full path).

### Extract After src/
Removes the `src/` prefix from file paths to show only the relative path.

### Try Extract Haxelib Paths  
Attempts to identify and shorten paths from Haxe libraries.

### Remove Common Prefix
Automatically removes common path prefixes shared by all files to reduce visual clutter.

### Mark Macros in Labels
Adds visual indicators for macro files to distinguish them from regular code.

### Custom Smart Labels
Use regular expressions with capture groups to extract specific parts of file paths. The capture group content becomes the displayed label.

Example: `.+MyProject\/shared\/(.+)` extracts everything after `shared/` in your project.

---

## Layout & Simulation

⚠️ **These settings are quite fiddly** – small changes can dramatically affect the layout.

### Enable Simulation
Toggles the physics simulation that positions nodes based on their relationships.

### Initial Position Algorithm
Sets how nodes are initially positioned before simulation:
- **Packages bubble chart**: Groups related files into package bubbles.
- **Circular chart**: Arranges nodes in a circle.
- **Top-down**: Creates a hierarchical top-to-bottom layout.

### Reset Initial Positions
Resets all node positions and reruns the initial positioning algorithm.

### Apply Forces Based on Links
Uses dependency relationships to attract or repel nodes during simulation.

### Forces Relative to Link Count
Makes the strength of forces proportional to the number of connections between nodes.

### Same Package Force
Controls how strongly files from the same package are attracted to each other.

### Force Power
Adjusts the overall strength of all forces in the simulation.

### Slowdown
Controls how quickly the simulation settles. Higher values make it more stable but slower to converge.

---

## Tips for Effective Use

Make sure Smart Labels are configured well. If the resulting labels are fully qualified type names, grouping and coloring will work better.

### Finding Problems
1. Hover over a node to see its connections.
2. Click on a node to see what other nodes it can connect to. Ideally your types shouldn't depend on all other types.
2. Enable "Show only circular dependencies" to find architectural issues.
3. Use minimum dependency filters to focus on highly connected files.
4. Look for unexpectedly large nodes that might indicate god objects.

### Exploring Large Codebases
1. Start with high exclusion settings to reduce visual complexity. Remove libraries you don't care about.
2. Use smart labels to make file names readable.
3. Adjust node sizing to highlight different aspects of your architecture.

### Performance
- Large dependency graphs may be slow to work with.
- Disable simulation for very large graphs.
- Use exclusions to focus on specific parts of your codebase.

---

## File Format Notes

- **dependencies.dump**: Shows what each file depends on.
- **dependants.dump**: Shows what depends on each file (reverse direction).
- Both formats contain the same data, so loading either is fine.
